doctype html
html(ng-app='diveLog')
  head
    title Dive Log with Templates
    link(rel='stylesheet',href='/bootstrap/css/bootstrap.css')
    style.
      .logEntry {
        background-color: navy;
        padding: 2px 16px;
      }
      .logEntry > h2 {
        color: yellow;
      }
      .logEntry > h3 {
        color: cyan;
      }
      .logEntry > h4 {
        color: white;
      }
  body
    .container-fluid
      h1 My Latest Dives
      .row(style={'margin-bottom': '12px'})
        .col-sm-4.col-sm-offset-8
          input.form-control.input-lg(
            placeholder="Search"
            ng-model='searchKey'
          )
      .row(ng-controller='diveLogCtrl')
        .col-sm-4(ng-repeat='dive in dives | filter:searchKey')
          dive-log-card
    script(src='/angular/angular.js')
    script(src='dives.js')
    script
      :coffee-script
        angular
        .module 'diveLog', []
        .controller 'diveLogCtrl', ($scope) -> $scope.dives = dives
        .directive 'diveLogCard', ->
          restrict: 'E'
          template: '<div class="logEntry">' +
          '<h3>{{dive.site}}</h3>' +
          '<h4>{{dive.location}}</h4>' +
          '<h2>{{dive.depth}} feet' +
          '| {{dive.time}} min</h2>' +
          '</div>'
