doctype html
html(ng-app='diveLog')
  head
    title Dive Log (ng-controller)
    link(rel='stylesheet',href='/bootstrap/css/bootstrap.css')
  body(ng-controller='diveLogCtrl')
    .container-fluid
      h1 My Latest Dives (with API service)
    .row
      .col-sm-8
        button.btn.btn-lg.btn-primary(ng-click='refreshDives()') Refresh
        | &nbsp;
        img(src='progress.gif',ng-show='isLoading()')
      .col-sm-4
        input.form-control.input-lg(placeholder="Search",ng-model='searchKey')
    .row(ng-show="errorMessage != ''")
      .col-sm-12
        h3.text-danger {{errorMessage}}
    .row
      .col-sm-4(ng-repeat='dive in dives | filter:searchKey')
        h3 {{dive.site}}
        h4 {{dive.location}}
        h2 {{dive.depth}} feet | {{dive.time}} min
    script(src='/angular/angular.js')
    script(src='dives.js')
